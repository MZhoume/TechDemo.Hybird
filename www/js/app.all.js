/// <reference path="../_reference.ts" />
var app;
(function (app) {
    var service;
    (function (service) {
        var SocketSvc = (function () {
            function SocketSvc(_dataSvc) {
                this._dataSvc = _dataSvc;
            }
            SocketSvc.prototype.StartListening = function (ipAddr, portNum, callback, errCallback) {
                var _this = this;
                console.log('Connectiong to: ' + ipAddr + ':' + portNum);
                this._isListening = true;
                try {
                    this._socket = new WebSocket("ws://" + ipAddr + ':' + portNum);
                    this._socket.onmessage = function (msg) {
                        _this._dataSvc.onMsgReceived(msg);
                        callback(msg);
                        _this._socket.send(JSON.stringify({ isStopIntended: false }));
                    };
                    this._socket.onerror = function (e) {
                        errCallback('An error occured from the WebSocket...');
                    };
                    setTimeout(function () {
                        _this._socket.send(JSON.stringify({ isStopIntended: false }));
                    }, 300);
                }
                catch (err) {
                    errCallback(err);
                }
            };
            SocketSvc.prototype.StopListening = function () {
                console.log('Disconnecting...');
                this._isListening = false;
                this._socket.send(JSON.stringify({ isStopIntended: true }));
                this._socket.close();
                this._socket.onmessage = null;
                this._socket.onerror = null;
            };
            SocketSvc.prototype.SendStr = function (str) {
                this._socket.send(str);
            };
            SocketSvc.$inject = ['DataSvc'];
            return SocketSvc;
        })();
        angular.module('app').service('SocketSvc', SocketSvc);
    })(service = app.service || (app.service = {}));
})(app || (app = {}));

/// <reference path="../_reference.ts" />
var app;
(function (app) {
    var service;
    (function (service) {
        var DataSvc = (function () {
            function DataSvc(_templateCache) {
                this._templateCache = _templateCache;
                this.data = [];
                this.onDataReceived = function () {
                };
                this.onIntroductionReceived = function () {
                };
                this.onDirectiveReceived = function () {
                };
                //_templateCache.put('control.html', '');
            }
            DataSvc.prototype.onMsgReceived = function (msg) {
                var payload = JSON.parse(msg.data);
                if (payload.directive) {
                    this.onIntroductionReceived.call(this, payload.introduction);
                    this.onDirectiveReceived.call(this, payload.directive);
                }
                else {
                    for (var i = 0; i < payload.length; i++) {
                        var e = payload[i];
                        if (!this.data[i]) {
                            this.data[i] = [];
                        }
                        this.data[i].push(e);
                    }
                    this.onDataReceived(payload);
                }
            };
            DataSvc.$inject = ['$templateCache'];
            return DataSvc;
        })();
        angular.module('app').service('DataSvc', DataSvc);
    })(service = app.service || (app.service = {}));
})(app || (app = {}));

/// <reference path="../_reference.ts" />

/// <reference path="../../typings/tsd.d.ts" />
/// <reference path="./service/socketSvc.ts" />
/// <reference path="./service/dataSvc.ts" />
/// <reference path="./interfaces/interface.ts" /> 

/// <reference path="../_reference.ts" />
var app;
(function (app) {
    var home;
    (function (home) {
        var ChartCtrl = (function () {
            function ChartCtrl(_stateParams, _dataSvc, _state) {
                var _this = this;
                this._stateParams = _stateParams;
                this._dataSvc = _dataSvc;
                this._state = _state;
                this.id = parseInt(_stateParams['id']);
                this.count = 1;
                if (_dataSvc.data.length == 0) {
                    return;
                }
                var dats = _dataSvc.data[this.id];
                var model = dats[0];
                this.series = model.Names;
                this.labels = [];
                this.data = [];
                for (var i = 0; i < dats.length; i++) {
                    this.labels.push(this.count.toString());
                    this.count++;
                    for (var j = 0; j < model.Names.length; j++) {
                        this.data[j] = this.data[j] || [];
                        var v = dats[i].Values[j];
                        this.data[j].push(v);
                    }
                }
                _dataSvc.onDataReceived = function (d) {
                    _this._state.reload();
                };
            }
            ChartCtrl.$inject = ['$stateParams', 'DataSvc', '$state'];
            return ChartCtrl;
        })();
        angular.module('app').controller('home.ChartCtrl', ChartCtrl);
    })(home = app.home || (app.home = {}));
})(app || (app = {}));

/// <reference path="../_reference.ts" />
var app;
(function (app) {
    var home;
    (function (home) {
        var MonitorCtrl = (function () {
            function MonitorCtrl(_dataSvc, _scope, _state) {
                var _this = this;
                this._dataSvc = _dataSvc;
                this._scope = _scope;
                this._state = _state;
                this._scope.data = [];
                _dataSvc.onDataReceived = function (d) {
                    for (var i = 0; i < d.length; i++) {
                        var element = d[i];
                        _this._scope.data[i] = element;
                    }
                    _this._scope.$apply();
                };
                var count = _dataSvc.data.length;
                if (count > 0) {
                    for (var i = 0; i < count; i++) {
                        var element = _dataSvc.data[i][_dataSvc.data[i].length - 1];
                        _scope.data.push(element);
                    }
                }
            }
            MonitorCtrl.prototype.drawChart = function (id) {
                this._state.go('home.chart', { "id": id });
            };
            MonitorCtrl.$inject = ['DataSvc', '$scope', '$state'];
            return MonitorCtrl;
        })();
        angular.module('app').controller('home.MonitorCtrl', MonitorCtrl);
    })(home = app.home || (app.home = {}));
})(app || (app = {}));

/// <reference path="../_reference.ts" />
var app;
(function (app) {
    var introduction;
    (function (introduction) {
        var IntroductionCtrl = (function () {
            function IntroductionCtrl(_dataSvc) {
                var _this = this;
                this._dataSvc = _dataSvc;
                this.introduction = 'Please open settings pane for connecting to the server.';
                _dataSvc.onIntroductionReceived = function (i) { return _this.introduction = i; };
            }
            IntroductionCtrl.$inject = ['DataSvc'];
            return IntroductionCtrl;
        })();
        angular.module('app').controller('IntroductionCtrl', IntroductionCtrl);
    })(introduction = app.introduction || (app.introduction = {}));
})(app || (app = {}));

/// <reference path="../_reference.ts" />
var app;
(function (app) {
    var settings;
    (function (settings) {
        var SettingsCtrl = (function () {
            function SettingsCtrl(_scope, _socketSvc, _ionicPopup, _ionicModel, _ionicLoading) {
                this._scope = _scope;
                this._socketSvc = _socketSvc;
                this._ionicPopup = _ionicPopup;
                this._ionicModel = _ionicModel;
                this._ionicLoading = _ionicLoading;
                this.msgs = [];
                this.btnString = 'Start';
                this._isListening = false;
                _ionicModel.fromTemplateUrl('../../settings/settings.html', {
                    scope: _scope,
                    animation: 'slide-in-up'
                }).then(function (m) {
                    _scope.model = m;
                });
                _scope.showModal = function () {
                    _scope.model.show();
                };
                _scope.hideModal = function () {
                    _scope.model.hide();
                };
            }
            SettingsCtrl.prototype.startCommand = function () {
                var _this = this;
                if (!this._isListening) {
                    this.msgs = [];
                    this.msgs.push('Start Listening...');
                    this._isListening = true;
                    this.btnString = 'Stop';
                    this._ionicLoading.show({
                        template: 'Retrieving data...<br />Please wait...'
                    });
                    this._socketSvc.StartListening(this.ipAddress, this.portNum, function (msg) {
                        _this.msgs.push("Data received at " + msg.timeStamp);
                        if (!_this._gotDirective) {
                            _this._ionicLoading.hide();
                            _this._gotDirective = true;
                        }
                    }, function (err) {
                        _this._ionicLoading.hide();
                        _this.msgs.push(err);
                        _this._ionicPopup.show({
                            title: 'Error!',
                            template: 'An error occured while connecting to server...',
                            buttons: [{ text: 'OK' }]
                        });
                        _this._isListening = false;
                        _this.btnString = 'Start';
                    });
                }
                else {
                    this.msgs.push('Stop Listening...');
                    this._socketSvc.StopListening();
                    this._isListening = false;
                    this.btnString = 'Start';
                }
            };
            SettingsCtrl.$inject = ['$scope', 'SocketSvc', '$ionicPopup', '$ionicModal', '$ionicLoading'];
            return SettingsCtrl;
        })();
        angular.module('app').controller('SettingsCtrl', SettingsCtrl);
    })(settings = app.settings || (app.settings = {}));
})(app || (app = {}));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZpY2Uvc29ja2V0U3ZjLnRzIiwic2VydmljZS9kYXRhU3ZjLnRzIiwiaW50ZXJmYWNlcy9pbnRlcmZhY2UudHMiLCJfcmVmZXJlbmNlLnRzIiwiaG9tZS9jaGFydC5jdHJsLnRzIiwiaG9tZS9tb25pdG9yLmN0cmwudHMiLCJpbnRyb2R1Y3Rpb24vaW50cm9kdWN0aW9uLmN0cmwudHMiLCJzZXR0aW5ncy9zZXR0aW5ncy5jdHJsLnRzIl0sIm5hbWVzIjpbImFwcCIsImFwcC5zZXJ2aWNlIiwiYXBwLnNlcnZpY2UuU29ja2V0U3ZjIiwiYXBwLnNlcnZpY2UuU29ja2V0U3ZjLmNvbnN0cnVjdG9yIiwiYXBwLnNlcnZpY2UuU29ja2V0U3ZjLlN0YXJ0TGlzdGVuaW5nIiwiYXBwLnNlcnZpY2UuU29ja2V0U3ZjLlN0b3BMaXN0ZW5pbmciLCJhcHAuc2VydmljZS5Tb2NrZXRTdmMuU2VuZFN0ciIsImFwcC5zZXJ2aWNlLkRhdGFTdmMiLCJhcHAuc2VydmljZS5EYXRhU3ZjLmNvbnN0cnVjdG9yIiwiYXBwLnNlcnZpY2UuRGF0YVN2Yy5vbk1zZ1JlY2VpdmVkIiwiYXBwLmhvbWUiLCJhcHAuaG9tZS5DaGFydEN0cmwiLCJhcHAuaG9tZS5DaGFydEN0cmwuY29uc3RydWN0b3IiLCJhcHAuaG9tZS5Nb25pdG9yQ3RybCIsImFwcC5ob21lLk1vbml0b3JDdHJsLmNvbnN0cnVjdG9yIiwiYXBwLmhvbWUuTW9uaXRvckN0cmwuZHJhd0NoYXJ0IiwiYXBwLmludHJvZHVjdGlvbiIsImFwcC5pbnRyb2R1Y3Rpb24uSW50cm9kdWN0aW9uQ3RybCIsImFwcC5pbnRyb2R1Y3Rpb24uSW50cm9kdWN0aW9uQ3RybC5jb25zdHJ1Y3RvciIsImFwcC5zZXR0aW5ncyIsImFwcC5zZXR0aW5ncy5TZXR0aW5nc0N0cmwiLCJhcHAuc2V0dGluZ3MuU2V0dGluZ3NDdHJsLmNvbnN0cnVjdG9yIiwiYXBwLnNldHRpbmdzLlNldHRpbmdzQ3RybC5zdGFydENvbW1hbmQiXSwibWFwcGlu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QUFLQSxDQUFDQTt3QkFDMUJBLEtBQUlBLENBQUNBLFNBQVNBLEdBQUdBLE9BQU9BLENBQUNBO29CQUMxQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ0xBLENBQUNBO2dCQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtvQkFDUEEsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsbUJBQW1CQSxDQUFDQSxDQUFDQTtvQkFDcENBLElBQUlBLENBQUNBLFVBQVVBLENBQUNBLGFBQWFBLEVBQUVBLENBQUNBO29CQUVoQ0EsSUFBSUEsQ0FBQ0EsWUFBWUEsR0FBR0EsS0FBS0EsQ0FBQ0E7b0JBQzFCQSxJQUFJQSxDQUFDQSxTQUFTQSxHQUFHQSxPQUFPQSxDQUFDQTtnQkFDMUJBLENBQUNBO1lBQ0ZBLENBQUNBO1lBM0RNRixvQkFBT0EsR0FBR0EsQ0FBQ0EsUUFBUUEsRUFBRUEsV0FBV0EsRUFBRUEsYUFBYUEsRUFBRUEsYUFBYUEsRUFBRUEsZUFBZUEsQ0FBQ0EsQ0FBQ0E7WUE0RHpGQSxtQkFBQ0E7UUFBREEsQ0FyRUFELEFBcUVDQyxJQUFBRDtRQUVEQSxPQUFPQSxDQUFDQSxNQUFNQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUNuQkEsVUFBVUEsQ0FBQ0EsY0FBY0EsRUFBRUEsWUFBWUEsQ0FBQ0EsQ0FBQ0E7SUFDNUNBLENBQUNBLEVBMUZVbkIsUUFBUUEsR0FBUkEsWUFBUUEsS0FBUkEsWUFBUUEsUUEwRmxCQTtBQUFEQSxDQUFDQSxFQTFGTSxHQUFHLEtBQUgsR0FBRyxRQTBGVCIsImZpbGUiOiJhcHAuYWxsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL19yZWZlcmVuY2UudHNcIiAvPlxyXG5cclxubW9kdWxlIGFwcC5zZXJ2aWNlIHtcclxuXHRleHBvcnQgaW50ZXJmYWNlIElTb2NrZXRTdmMge1xyXG5cdFx0U3RhcnRMaXN0ZW5pbmcoXHJcblx0XHRcdGlwQWRkcjogc3RyaW5nLFxyXG5cdFx0XHRwb3J0TnVtOiBudW1iZXIsXHJcblx0XHRcdGNhbGxiYWNrOiAobXNnOiBNZXNzYWdlRXZlbnQpID0+IHZvaWQsXHJcblx0XHRcdGVyckNhbGxiYWNrOiAoZXJyOiBzdHJpbmcpID0+IHZvaWRcclxuXHRcdFx0KTogdm9pZDtcclxuXHJcblx0XHRTdG9wTGlzdGVuaW5nKCk6IHZvaWQ7XHJcblx0XHRTZW5kU3RyKHN0cjogc3RyaW5nKTogdm9pZDtcclxuXHR9XHJcblxyXG5cdGNsYXNzIFNvY2tldFN2YyBpbXBsZW1lbnRzIElTb2NrZXRTdmMge1xyXG5cdFx0cHJpdmF0ZSBfaXNMaXN0ZW5pbmc6IGJvb2xlYW47XHJcblx0XHRwcml2YXRlIF9zb2NrZXQ6IFdlYlNvY2tldDtcclxuXHJcblx0XHRzdGF0aWMgJGluamVjdCA9IFsnRGF0YVN2YyddO1xyXG5cdFx0Y29uc3RydWN0b3IocHJpdmF0ZSBfZGF0YVN2YzogYXBwLnNlcnZpY2UuSURhdGFTdmMpIHtcclxuXHRcdH1cclxuXHJcblx0XHRTdGFydExpc3RlbmluZyhpcEFkZHI6IHN0cmluZywgcG9ydE51bTogbnVtYmVyLCBjYWxsYmFjazogKG1zZzogTWVzc2FnZUV2ZW50KSA9PiB2b2lkLFxyXG5cdFx0XHRlcnJDYWxsYmFjazogKGVycjogc3RyaW5nKSA9PiB2b2lkKTogdm9pZCB7XHJcblx0XHRcdGNvbnNvbGUubG9nKCdDb25uZWN0aW9uZyB0bzogJyArIGlwQWRkciArICc6JyArIHBvcnROdW0pO1xyXG5cdFx0XHR0aGlzLl9pc0xpc3RlbmluZyA9IHRydWU7XHJcblxyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdHRoaXMuX3NvY2tldCA9IG5ldyBXZWJTb2NrZXQoXCJ3czovL1wiICsgaXBBZGRyICsgJzonICsgcG9ydE51bSk7XHJcblx0XHRcdFx0dGhpcy5fc29ja2V0Lm9ubWVzc2FnZSA9IChtc2cpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMuX2RhdGFTdmMub25Nc2dSZWNlaXZlZChtc2cpO1xyXG5cdFx0XHRcdFx0Y2FsbGJhY2sobXNnKTtcclxuXHJcblx0XHRcdFx0XHR0aGlzLl9zb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeSg8YXBwLmludGVyZmFjZXMuSVNvY2tldENsaWVudD57IGlzU3RvcEludGVuZGVkOiBmYWxzZSB9KSk7XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHR0aGlzLl9zb2NrZXQub25lcnJvciA9IGUgPT4ge1xyXG5cdFx0XHRcdFx0ZXJyQ2FsbGJhY2soJ0FuIGVycm9yIG9jY3VyZWQgZnJvbSB0aGUgV2ViU29ja2V0Li4uJyk7XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLl9zb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeSg8YXBwLmludGVyZmFjZXMuSVNvY2tldENsaWVudD57IGlzU3RvcEludGVuZGVkOiBmYWxzZSB9KSk7XHJcblx0XHRcdFx0fSwgMzAwKTtcclxuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XHJcblx0XHRcdFx0ZXJyQ2FsbGJhY2soZXJyKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdFN0b3BMaXN0ZW5pbmcoKTogdm9pZCB7XHJcblx0XHRcdGNvbnNvbGUubG9nKCdEaXNjb25uZWN0aW5nLi4uJyk7XHJcblx0XHRcdHRoaXMuX2lzTGlzdGVuaW5nID0gZmFsc2U7XHJcblxyXG5cdFx0XHR0aGlzLl9zb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeSg8YXBwLmludGVyZmFjZXMuSVNvY2tldENsaWVudD57IGlzU3RvcEludGVuZGVkOiB0cnVlLCB9KSk7XHJcblxyXG5cdFx0XHR0aGlzLl9zb2NrZXQuY2xvc2UoKTtcclxuXHRcdFx0dGhpcy5fc29ja2V0Lm9ubWVzc2FnZSA9IG51bGw7XHJcblx0XHRcdHRoaXMuX3NvY2tldC5vbmVycm9yID0gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRTZW5kU3RyKHN0cjogc3RyaW5nKTogdm9pZCB7XHJcblx0XHRcdHRoaXMuX3NvY2tldC5zZW5kKHN0cik7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuXHRcdC5zZXJ2aWNlKCdTb2NrZXRTdmMnLCBTb2NrZXRTdmMpO1xyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL19yZWZlcmVuY2UudHNcIiAvPlxyXG5cclxubW9kdWxlIGFwcC5zZXJ2aWNlIHtcclxuXHRleHBvcnQgaW50ZXJmYWNlIElEYXRhU3ZjIHtcclxuXHRcdGRhdGE6IGFwcC5pbnRlcmZhY2VzLklEYXRhTW9kZWxbXVtdO1xyXG5cclxuXHRcdG9uTXNnUmVjZWl2ZWQobXNnOiBNZXNzYWdlRXZlbnQpOiB2b2lkO1xyXG5cclxuXHRcdG9uRGF0YVJlY2VpdmVkOiAoZGF0YTogYXBwLmludGVyZmFjZXMuSURhdGFNb2RlbFtdKSA9PiB2b2lkO1xyXG5cdFx0b25JbnRyb2R1Y3Rpb25SZWNlaXZlZDogKGludHJvOiBzdHJpbmcpID0+IHZvaWQ7XHJcblx0XHRvbkRpcmVjdGl2ZVJlY2VpdmVkOiAoZGlyOiBzdHJpbmcpID0+IHZvaWQ7XHJcblx0fVxyXG5cclxuXHRjbGFzcyBEYXRhU3ZjIGltcGxlbWVudHMgYXBwLnNlcnZpY2UuSURhdGFTdmMge1xyXG5cdFx0ZGF0YTogYXBwLmludGVyZmFjZXMuSURhdGFNb2RlbFtdW10gPSBbXTtcclxuXHJcblx0XHRwcml2YXRlIF9oYXNJbml0ZWQ6IGJvb2xlYW47XHJcblxyXG5cdFx0c3RhdGljICRpbmplY3QgPSBbJyR0ZW1wbGF0ZUNhY2hlJ107XHJcblx0XHRjb25zdHJ1Y3Rvcihwcml2YXRlIF90ZW1wbGF0ZUNhY2hlOiBhbmd1bGFyLklUZW1wbGF0ZUNhY2hlU2VydmljZSkge1xyXG5cdFx0XHQvL190ZW1wbGF0ZUNhY2hlLnB1dCgnY29udHJvbC5odG1sJywgJycpO1xyXG5cdFx0fVxyXG5cclxuXHRcdG9uTXNnUmVjZWl2ZWQobXNnOiBNZXNzYWdlRXZlbnQpOiB2b2lkIHtcclxuXHRcdFx0dmFyIHBheWxvYWQgPSBKU09OLnBhcnNlKG1zZy5kYXRhKTtcclxuXHJcblx0XHRcdGlmIChwYXlsb2FkLmRpcmVjdGl2ZSkge1xyXG5cdFx0XHRcdHRoaXMub25JbnRyb2R1Y3Rpb25SZWNlaXZlZC5jYWxsKHRoaXMsIHBheWxvYWQuaW50cm9kdWN0aW9uKTtcclxuXHRcdFx0XHR0aGlzLm9uRGlyZWN0aXZlUmVjZWl2ZWQuY2FsbCh0aGlzLCBwYXlsb2FkLmRpcmVjdGl2ZSk7XHJcblx0XHRcdFx0Ly90aGlzLl90ZW1wbGF0ZUNhY2hlLnB1dCgnY29udHJvbC5odG1sJywgcGF5bG9hZC5kaXJlY3RpdmUpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgcGF5bG9hZC5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0dmFyIGUgPSBwYXlsb2FkW2ldO1xyXG5cdFx0XHRcdFx0aWYgKCF0aGlzLmRhdGFbaV0pIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5kYXRhW2ldID0gW107XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR0aGlzLmRhdGFbaV0ucHVzaChlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dGhpcy5vbkRhdGFSZWNlaXZlZChwYXlsb2FkKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdG9uRGF0YVJlY2VpdmVkOiAoZGF0YTogYXBwLmludGVyZmFjZXMuSURhdGFNb2RlbFtdKSA9PiB2b2lkID0gKCkgPT4geyB9XHJcblx0XHRvbkludHJvZHVjdGlvblJlY2VpdmVkOiAoaW50cm86IHN0cmluZykgPT4gdm9pZCA9ICgpID0+IHsgfVxyXG5cdFx0b25EaXJlY3RpdmVSZWNlaXZlZDogKGRpcjogc3RyaW5nKSA9PiB2b2lkID0gKCkgPT4geyB9XHJcblx0fVxyXG5cclxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuXHRcdC5zZXJ2aWNlKCdEYXRhU3ZjJywgRGF0YVN2Yyk7XHJcbi8vXHRcclxuLy9cdERhdGFTdmMucHJvdG90eXBlLm9uRGlyZWN0aXZlUmVjZWl2ZWQgPSBmdW5jdGlvbihkOiBzdHJpbmcpOiB2b2lkIHtcclxuLy9cdFx0YW5ndWxhci5tb2R1bGUoJ2FwcCcpLmRpcmVjdGl2ZSgnY29udHJvbCcsIGZ1bmN0aW9uKCkge1xyXG4vL1x0XHRcdHJldHVybiB7XHJcbi8vXHRcdFx0XHRyZXN0cmljdDogJ0UnLFxyXG4vL1x0XHRcdFx0dGVtcGxhdGU6IGQsXHJcbi8vXHRcdFx0XHRyZXBsYWNlOiB0cnVlLFxyXG4vL1x0XHRcdFx0c2NvcGU6IHtcclxuLy9cdFx0XHRcdFx0Y29udGVudDogJz0nXHJcbi8vXHRcdFx0XHR9XHJcbi8vXHRcdFx0fVxyXG4vL1x0XHR9KTtcclxuLy9cdH07XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vX3JlZmVyZW5jZS50c1wiIC8+XHJcblxyXG5tb2R1bGUgYXBwLmludGVyZmFjZXMge1xyXG5cdGV4cG9ydCBpbnRlcmZhY2UgSU1vbml0b3JTY29wZSBleHRlbmRzIGFuZ3VsYXIuSVNjb3BlIHtcclxuXHRcdC8vIHRoaXMgaXMgdGhlIHdob2xlIGRhdGEsIHlvdSBkb24ndCB3YW5uYSB1c2UgdGhpc1xyXG5cdFx0ZGF0YTogYXBwLmludGVyZmFjZXMuSURhdGFNb2RlbFtdO1xyXG5cdFx0XHJcblx0XHQvLyBUaGlzIGlzIHdoYXQgZ2l2ZXMgeW91IHRvIGNyZWF0ZSBkaXNwbGF5XHJcblx0XHRkPzogYXBwLmludGVyZmFjZXMuSURhdGFNb2RlbDtcclxuXHR9XHJcblx0XHJcblx0ZXhwb3J0IGludGVyZmFjZSBJU29ja2V0Q2xpZW50IHtcclxuXHRcdGlzU3RvcEludGVuZGVkOiBib29sZWFuO1xyXG5cdH1cclxuXHJcblx0ZXhwb3J0IGludGVyZmFjZSBJU29ja2V0Q3RybCB7XHJcblx0XHRpbnRyb2R1Y3Rpb246IHN0cmluZztcclxuXHRcdGRpcmVjdGl2ZTogc3RyaW5nO1xyXG5cdH1cclxuXHJcblx0ZXhwb3J0IGludGVyZmFjZSBJRGF0YU1vZGVsIHtcclxuXHRcdHJvd2lkOiBudW1iZXI7XHJcblx0XHRTZXJ2ZXJJRDogbnVtYmVyO1xyXG5cdFx0XHJcblx0XHROYW1lczogc3RyaW5nW107XHJcblx0XHRWYWx1ZXM6IG51bWJlcltdO1xyXG5cdH1cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3RzZC5kLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4vc2VydmljZS9zb2NrZXRTdmMudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi9zZXJ2aWNlL2RhdGFTdmMudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi9pbnRlcmZhY2VzL2ludGVyZmFjZS50c1wiIC8+IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL19yZWZlcmVuY2UudHNcIiAvPlxyXG5cclxubW9kdWxlIGFwcC5ob21lIHtcclxuXHRpbnRlcmZhY2UgSUNoYXJ0Q3RybCB7XHJcblx0XHRpZDogbnVtYmVyO1xyXG5cclxuXHRcdGxhYmVsczogc3RyaW5nW107XHJcblx0XHRzZXJpZXM6IHN0cmluZ1tdO1xyXG5cdFx0ZGF0YTogbnVtYmVyW11bXTtcclxuXHR9XHJcblxyXG5cdGNsYXNzIENoYXJ0Q3RybCBpbXBsZW1lbnRzIElDaGFydEN0cmwge1xyXG5cdFx0cHJpdmF0ZSBjb3VudDogbnVtYmVyO1xyXG5cclxuXHRcdGlkOiBudW1iZXI7XHJcblxyXG5cdFx0bGFiZWxzOiBzdHJpbmdbXTtcclxuXHRcdHNlcmllczogc3RyaW5nW107XHJcblx0XHRkYXRhOiBudW1iZXJbXVtdO1xyXG5cclxuXHRcdHN0YXRpYyAkaW5qZWN0ID0gWyckc3RhdGVQYXJhbXMnLCAnRGF0YVN2YycsICckc3RhdGUnXTtcclxuXHRcdGNvbnN0cnVjdG9yKHByaXZhdGUgX3N0YXRlUGFyYW1zOiBhbmd1bGFyLnVpLklTdGF0ZVBhcmFtc1NlcnZpY2UsXHJcblx0XHRcdHByaXZhdGUgX2RhdGFTdmM6IGFwcC5zZXJ2aWNlLklEYXRhU3ZjLFxyXG5cdFx0XHRwcml2YXRlIF9zdGF0ZTogYW5ndWxhci51aS5JU3RhdGVTZXJ2aWNlKSB7XHJcblx0XHRcdHRoaXMuaWQgPSBwYXJzZUludChfc3RhdGVQYXJhbXNbJ2lkJ10pO1xyXG5cdFx0XHR0aGlzLmNvdW50ID0gMTtcclxuXHJcblx0XHRcdGlmIChfZGF0YVN2Yy5kYXRhLmxlbmd0aCA9PSAwKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2YXIgZGF0cyA9IF9kYXRhU3ZjLmRhdGFbdGhpcy5pZF07XHJcblx0XHRcdHZhciBtb2RlbCA9IGRhdHNbMF07XHJcblxyXG5cdFx0XHR0aGlzLnNlcmllcyA9IG1vZGVsLk5hbWVzO1xyXG5cdFx0XHR0aGlzLmxhYmVscyA9IFtdO1xyXG5cdFx0XHR0aGlzLmRhdGEgPSBbXTtcclxuXHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGF0cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHRoaXMubGFiZWxzLnB1c2godGhpcy5jb3VudC50b1N0cmluZygpKTtcclxuXHRcdFx0XHR0aGlzLmNvdW50Kys7XHJcblxyXG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgbW9kZWwuTmFtZXMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdHRoaXMuZGF0YVtqXSA9IHRoaXMuZGF0YVtqXSB8fCA8bnVtYmVyW10+W107XHJcblxyXG5cdFx0XHRcdFx0dmFyIHYgPSBkYXRzW2ldLlZhbHVlc1tqXTtcclxuXHRcdFx0XHRcdHRoaXMuZGF0YVtqXS5wdXNoKHYpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0X2RhdGFTdmMub25EYXRhUmVjZWl2ZWQgPSBkID0+IHtcclxuXHRcdFx0XHR0aGlzLl9zdGF0ZS5yZWxvYWQoKTtcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ2hvbWUuQ2hhcnRDdHJsJywgQ2hhcnRDdHJsKTtcclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9fcmVmZXJlbmNlLnRzXCIgLz5cclxuXHJcbm1vZHVsZSBhcHAuaG9tZSB7XHJcblx0aW50ZXJmYWNlIElNb25pdG9yQ3RybCB7XHJcblx0XHRkcmF3Q2hhcnQoaWQ6IG51bWJlcik6IHZvaWQ7XHJcblx0fVxyXG5cclxuXHRjbGFzcyBNb25pdG9yQ3RybCBpbXBsZW1lbnRzIElNb25pdG9yQ3RybCB7XHJcblx0XHRzdGF0aWMgJGluamVjdCA9IFsnRGF0YVN2YycsICckc2NvcGUnLCAnJHN0YXRlJ107XHJcblx0XHRjb25zdHJ1Y3Rvcihwcml2YXRlIF9kYXRhU3ZjOiBhcHAuc2VydmljZS5JRGF0YVN2YyxcclxuXHRcdFx0cHJpdmF0ZSBfc2NvcGU6IGFwcC5pbnRlcmZhY2VzLklNb25pdG9yU2NvcGUsXHJcblx0XHRcdHByaXZhdGUgX3N0YXRlOiBhbmd1bGFyLnVpLklTdGF0ZVNlcnZpY2UpIHtcclxuXHRcdFx0dGhpcy5fc2NvcGUuZGF0YSA9IFtdO1xyXG5cclxuXHRcdFx0X2RhdGFTdmMub25EYXRhUmVjZWl2ZWQgPSBkID0+IHtcclxuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGQubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdHZhciBlbGVtZW50ID0gZFtpXTtcclxuXHRcdFx0XHRcdHRoaXMuX3Njb3BlLmRhdGFbaV0gPSBlbGVtZW50O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLl9zY29wZS4kYXBwbHkoKTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdHZhciBjb3VudCA9IF9kYXRhU3ZjLmRhdGEubGVuZ3RoO1xyXG5cdFx0XHRpZiAoY291bnQgPiAwKSB7XHJcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XHJcblx0XHRcdFx0XHR2YXIgZWxlbWVudCA9IF9kYXRhU3ZjLmRhdGFbaV1bX2RhdGFTdmMuZGF0YVtpXS5sZW5ndGggLSAxXTtcclxuXHRcdFx0XHRcdF9zY29wZS5kYXRhLnB1c2goZWxlbWVudCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0ZHJhd0NoYXJ0KGlkOiBudW1iZXIpOiB2b2lkIHtcclxuXHRcdFx0dGhpcy5fc3RhdGUuZ28oJ2hvbWUuY2hhcnQnLCB7IFwiaWRcIjogaWQgfSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdob21lLk1vbml0b3JDdHJsJywgTW9uaXRvckN0cmwpO1xyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL19yZWZlcmVuY2UudHNcIiAvPlxyXG5cclxubW9kdWxlIGFwcC5pbnRyb2R1Y3Rpb24ge1xyXG5cdGludGVyZmFjZSBJSW50cm9kdWN0aW9uQ3RybCB7XHJcblx0XHRpbnRyb2R1Y3Rpb246IHN0cmluZztcclxuXHR9XHJcblxyXG5cdGNsYXNzIEludHJvZHVjdGlvbkN0cmwgaW1wbGVtZW50cyBJSW50cm9kdWN0aW9uQ3RybCB7XHJcblx0XHRpbnRyb2R1Y3Rpb246IHN0cmluZyA9ICdQbGVhc2Ugb3BlbiBzZXR0aW5ncyBwYW5lIGZvciBjb25uZWN0aW5nIHRvIHRoZSBzZXJ2ZXIuJztcclxuXHJcblx0XHRzdGF0aWMgJGluamVjdCA9IFsnRGF0YVN2YyddO1xyXG5cdFx0Y29uc3RydWN0b3IocHJpdmF0ZSBfZGF0YVN2YzogYXBwLnNlcnZpY2UuSURhdGFTdmMpIHtcclxuXHRcdFx0X2RhdGFTdmMub25JbnRyb2R1Y3Rpb25SZWNlaXZlZCA9IGk9PiB0aGlzLmludHJvZHVjdGlvbiA9IGk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdJbnRyb2R1Y3Rpb25DdHJsJywgSW50cm9kdWN0aW9uQ3RybCk7XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vX3JlZmVyZW5jZS50c1wiIC8+XHJcblxyXG5tb2R1bGUgYXBwLnNldHRpbmdzIHtcclxuXHRpbnRlcmZhY2UgSU1vZGVsU2NvcGUgZXh0ZW5kcyBhbmd1bGFyLklTY29wZSB7XHJcblx0XHRtb2RlbDogSW9uaWMuSU1vZGFsO1xyXG5cclxuXHRcdHNob3dNb2RhbCgpOiB2b2lkO1xyXG5cdFx0aGlkZU1vZGFsKCk6IHZvaWQ7XHJcblx0fVxyXG5cclxuXHRpbnRlcmZhY2UgSVNldHRpbmdzQ3RybCB7XHJcblx0XHRpcEFkZHJlc3M6IHN0cmluZztcclxuXHRcdHBvcnROdW06IG51bWJlcjtcclxuXHRcdG1zZ3M6IHN0cmluZ1tdO1xyXG5cdFx0YnRuU3RyaW5nOiBzdHJpbmc7XHJcblxyXG5cdFx0c3RhcnRDb21tYW5kKCk6IHZvaWQ7XHJcblx0fVxyXG5cclxuXHRjbGFzcyBTZXR0aW5nc0N0cmwgaW1wbGVtZW50cyBJU2V0dGluZ3NDdHJsIHtcclxuXHRcdGlwQWRkcmVzczogc3RyaW5nO1xyXG5cdFx0cG9ydE51bTogbnVtYmVyO1xyXG5cdFx0bXNnczogc3RyaW5nW10gPSBbXTtcclxuXHRcdGJ0blN0cmluZzogc3RyaW5nID0gJ1N0YXJ0JztcclxuXHRcdHByaXZhdGUgX2dvdERpcmVjdGl2ZTogYm9vbGVhbjtcclxuXHJcblx0XHRwcml2YXRlIF9pc0xpc3RlbmluZzogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuXHRcdHN0YXRpYyAkaW5qZWN0ID0gWyckc2NvcGUnLCAnU29ja2V0U3ZjJywgJyRpb25pY1BvcHVwJywgJyRpb25pY01vZGFsJywgJyRpb25pY0xvYWRpbmcnXTtcclxuXHRcdGNvbnN0cnVjdG9yKHByaXZhdGUgX3Njb3BlOiBJTW9kZWxTY29wZSxcclxuXHRcdFx0cHJpdmF0ZSBfc29ja2V0U3ZjOiBhcHAuc2VydmljZS5JU29ja2V0U3ZjLFxyXG5cdFx0XHRwcml2YXRlIF9pb25pY1BvcHVwOiBJb25pYy5JUG9wdXAsXHJcblx0XHRcdHByaXZhdGUgX2lvbmljTW9kZWw6IElvbmljLklNb2RhbCxcclxuXHRcdFx0cHJpdmF0ZSBfaW9uaWNMb2FkaW5nOiBJb25pYy5JTG9hZGluZykge1xyXG5cdFx0XHRfaW9uaWNNb2RlbC5mcm9tVGVtcGxhdGVVcmwoJy4uLy4uL3NldHRpbmdzL3NldHRpbmdzLmh0bWwnLCB7XHJcblx0XHRcdFx0c2NvcGU6IF9zY29wZSxcclxuXHRcdFx0XHRhbmltYXRpb246ICdzbGlkZS1pbi11cCdcclxuXHRcdFx0fSkudGhlbihtID0+IHtcclxuXHRcdFx0XHRfc2NvcGUubW9kZWwgPSBtO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdF9zY29wZS5zaG93TW9kYWwgPSAoKSA9PiB7XHJcblx0XHRcdFx0X3Njb3BlLm1vZGVsLnNob3coKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0X3Njb3BlLmhpZGVNb2RhbCA9ICgpID0+IHtcclxuXHRcdFx0XHRfc2NvcGUubW9kZWwuaGlkZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0c3RhcnRDb21tYW5kKCk6IHZvaWQge1xyXG5cdFx0XHRpZiAoIXRoaXMuX2lzTGlzdGVuaW5nKSB7XHJcblx0XHRcdFx0dGhpcy5tc2dzID0gW107XHJcblx0XHRcdFx0dGhpcy5tc2dzLnB1c2goJ1N0YXJ0IExpc3RlbmluZy4uLicpO1xyXG5cdFx0XHRcdHRoaXMuX2lzTGlzdGVuaW5nID0gdHJ1ZTtcclxuXHRcdFx0XHR0aGlzLmJ0blN0cmluZyA9ICdTdG9wJztcclxuXHJcblx0XHRcdFx0dGhpcy5faW9uaWNMb2FkaW5nLnNob3coe1xyXG5cdFx0XHRcdFx0dGVtcGxhdGU6ICdSZXRyaWV2aW5nIGRhdGEuLi48YnIgLz5QbGVhc2Ugd2FpdC4uLidcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdHRoaXMuX3NvY2tldFN2Yy5TdGFydExpc3RlbmluZyh0aGlzLmlwQWRkcmVzcywgdGhpcy5wb3J0TnVtLFxyXG5cdFx0XHRcdFx0KG1zZykgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLm1zZ3MucHVzaChcIkRhdGEgcmVjZWl2ZWQgYXQgXCIgKyBtc2cudGltZVN0YW1wKTtcclxuXHJcblx0XHRcdFx0XHRcdGlmICghdGhpcy5fZ290RGlyZWN0aXZlKSB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5faW9uaWNMb2FkaW5nLmhpZGUoKTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLl9nb3REaXJlY3RpdmUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0KGVycikgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLl9pb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLm1zZ3MucHVzaChlcnIpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLl9pb25pY1BvcHVwLnNob3coe1xyXG5cdFx0XHRcdFx0XHRcdHRpdGxlOiAnRXJyb3IhJyxcclxuXHRcdFx0XHRcdFx0XHR0ZW1wbGF0ZTogJ0FuIGVycm9yIG9jY3VyZWQgd2hpbGUgY29ubmVjdGluZyB0byBzZXJ2ZXIuLi4nLFxyXG5cdFx0XHRcdFx0XHRcdGJ1dHRvbnM6IFt7IHRleHQ6ICdPSycgfV1cclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdHRoaXMuX2lzTGlzdGVuaW5nID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdHRoaXMuYnRuU3RyaW5nID0gJ1N0YXJ0JztcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMubXNncy5wdXNoKCdTdG9wIExpc3RlbmluZy4uLicpO1xyXG5cdFx0XHRcdHRoaXMuX3NvY2tldFN2Yy5TdG9wTGlzdGVuaW5nKCk7XHJcblxyXG5cdFx0XHRcdHRoaXMuX2lzTGlzdGVuaW5nID0gZmFsc2U7XHJcblx0XHRcdFx0dGhpcy5idG5TdHJpbmcgPSAnU3RhcnQnO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuXHRcdC5jb250cm9sbGVyKCdTZXR0aW5nc0N0cmwnLCBTZXR0aW5nc0N0cmwpO1xyXG59Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9