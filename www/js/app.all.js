/// <reference path="../_reference.ts" />
var app;
(function (app) {
    var service;
    (function (service) {
        var SocketSvc = (function () {
            function SocketSvc() {
            }
            SocketSvc.prototype.StartListening = function (ipAddr, portNum, callback, errCallback) {
                console.log('Connectiong to: ' + ipAddr + ':' + portNum);
                this._isListening = true;
                try {
                    this._socket = new WebSocket("ws://" + ipAddr + ':' + portNum);
                    this._socket.onmessage = callback;
                }
                catch (err) {
                    errCallback(err);
                }
                finally {
                    if (this._socket.readyState != WebSocket.OPEN && this._socket.readyState != WebSocket.CONNECTING) {
                        errCallback('An error occured while connecting to server...');
                        return;
                    }
                    this._socket.onerror = function (e) { return errCallback('Error -- ' + e.timeStamp.toString()); };
                }
            };
            SocketSvc.prototype.StopListening = function () {
                console.log('Disconnecting...');
                this._isListening = false;
                this._socket.close();
                this._socket.onmessage = null;
                this._socket.onerror = null;
            };
            SocketSvc.prototype.SendStr = function (str) {
                this._socket.send(str);
            };
            return SocketSvc;
        })();
        angular.module('app').service('SocketSvc', SocketSvc);
    })(service = app.service || (app.service = {}));
})(app || (app = {}));

/// <reference path="../_reference.ts" />
var app;
(function (app) {
    var service;
    (function (service) {
        var DataSvc = (function () {
            function DataSvc() {
                this.onIntroductionReceived = function () {
                };
                this.onDataReceived = function () {
                };
                this.onDirectiveReceived = function () {
                };
            }
            DataSvc.prototype.onMsgReceived = function (msg) {
                if (!this._hasInited) {
                    this._hasInited = true;
                    var payload = JSON.parse(msg.data);
                    eval(payload.DataCtrl);
                    this.onIntroductionReceived(payload.Introduction);
                    this.onDirectiveReceived(payload.Directive);
                }
                else {
                    var data = JSON.parse(msg.data);
                    for (var i = 0; i < data.length; i++) {
                        var e = data[i];
                        this.Data[i].push(e);
                    }
                    this.onDataReceived(data);
                }
            };
            return DataSvc;
        })();
        angular.module('app').service('DataSvc', DataSvc);
    })(service = app.service || (app.service = {}));
})(app || (app = {}));

/// <reference path="../_reference.ts" />

/// <reference path="../../typings/tsd.d.ts" />
/// <reference path="./service/socketSvc.ts" />
/// <reference path="./service/dataSvc.ts" />
/// <reference path="./interfaces/interface.ts" /> 

/// <reference path="../_reference.ts" />
var app;
(function (app) {
    var home;
    (function (home) {
        var ChartCtrl = (function () {
            function ChartCtrl() {
                this.title = 'Chart';
            }
            return ChartCtrl;
        })();
        angular.module('app').controller('home.ChartCtrl', ChartCtrl);
    })(home = app.home || (app.home = {}));
})(app || (app = {}));

/// <reference path="../_reference.ts" />
var app;
(function (app) {
    var home;
    (function (home) {
        var MonitorCtrl = (function () {
            function MonitorCtrl(_dataSvc) {
                this._dataSvc = _dataSvc;
                this.Data = [{
                    rowid: 0,
                    ServerID: 1,
                    Names: ['aaa', 'bbb', 'ccc'],
                    Values: [2, 3, 4]
                }];
            }
            MonitorCtrl.$inject = ['DataSvc'];
            return MonitorCtrl;
        })();
        angular.module('app').controller('home.MonitorCtrl', MonitorCtrl);
    })(home = app.home || (app.home = {}));
})(app || (app = {}));

/// <reference path="../_reference.ts" />
var app;
(function (app) {
    var introduction;
    (function (introduction) {
        var IntroductionCtrl = (function () {
            function IntroductionCtrl(_dataSvc) {
                var _this = this;
                this._dataSvc = _dataSvc;
                this.introduction = 'Please open settings pane for connecting to the server.';
                this._dataSvc.onIntroductionReceived = function (i) {
                    _this.introduction = i;
                };
            }
            IntroductionCtrl.$inject = ['DataSvc'];
            return IntroductionCtrl;
        })();
        angular.module('app').controller('IntroductionCtrl', IntroductionCtrl);
    })(introduction = app.introduction || (app.introduction = {}));
})(app || (app = {}));

/// <reference path="../_reference.ts" />
var app;
(function (app) {
    var settings;
    (function (settings) {
        var SettingsCtrl = (function () {
            function SettingsCtrl(_scope, _socketSvc, _ionicPopup, _dataSvc, _ionicModel) {
                this._scope = _scope;
                this._socketSvc = _socketSvc;
                this._ionicPopup = _ionicPopup;
                this._dataSvc = _dataSvc;
                this._ionicModel = _ionicModel;
                this.msgs = [];
                this.btnString = 'Start';
                this._isListening = false;
                _ionicModel.fromTemplateUrl('../../settings/settings.html', {
                    scope: _scope,
                    animation: 'slide-in-up'
                }).then(function (m) {
                    _scope.model = m;
                });
                _scope.showModal = function () {
                    _scope.model.show();
                };
                _scope.hideModal = function () {
                    _scope.model.hide();
                };
            }
            SettingsCtrl.prototype.startCommand = function () {
                var _this = this;
                if (!this._isListening) {
                    this.msgs = [];
                    this.msgs.push('Start Listening...');
                    this._isListening = true;
                    this.btnString = 'Stop';
                    this._socketSvc.StartListening(this.ipAddress, this.portNum, function (msg) {
                        _this.msgs.push("Data received at " + msg.timeStamp);
                        _this._dataSvc.onMsgReceived(msg);
                    }, function (err) {
                        _this.msgs.push(err);
                        _this._ionicPopup.show({
                            title: 'Error!',
                            template: 'An error occured while connecting to server...',
                            buttons: [{ text: 'OK' }]
                        });
                        _this._isListening = false;
                        _this.btnString = 'Start';
                    });
                    setTimeout(function () {
                        _this._socketSvc.SendStr('a');
                    }, 3000);
                }
                else {
                    this.msgs.push('Stop Listening...');
                    this._socketSvc.StopListening();
                    this._isListening = false;
                    this.btnString = 'Start';
                }
            };
            SettingsCtrl.$inject = ['$scope', 'SocketSvc', '$ionicPopup', 'DataSvc', '$ionicModal'];
            return SettingsCtrl;
        })();
        angular.module('app').controller('SettingsCtrl', SettingsCtrl);
    })(settings = app.settings || (app.settings = {}));
})(app || (app = {}));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZpY2Uvc29ja2V0U3ZjLnRzIiwic2VydmljZS9kYXRhU3ZjLnRzIiwiaW50ZXJmYWNlcy9pbnRlcmZhY2UudHMiLCJfcmVmZXJlbmNlLnRzIiwiaG9tZS9jaGFydC5jdHJsLnRzIiwiaG9tZS9tb25pdG9yLmN0cmwudHMiLCJpbnRyb2R1Y3Rpb24vaW50cm9kdWN0aW9uLmN0cmwudHMiLCJzZXR0aW5ncy9zZXR0aW5ncy5jdHJsLnRzIl0sIm5hbWVzIjpbImFwcCIsImFwcC5zZXJ2aWNlIiwiYXBwLnNlcnZpY2UuU29ja2V0U3ZjIiwiYXBwLnNlcnZpY2UuU29ja2V0U3ZjLmNvbnN0cnVjdG9yIiwiYXBwLnNlcnZpY2UuU29ja2V0U3ZjLlN0YXJ0TGlzdGVuaW5nIiwiYXBwLnNlcnZpY2UuU29ja2V0U3ZjLlN0b3BMaXN0ZW5pbmciLCJhcHAuc2VydmljZS5Tb2NrZXRTdmMuU2VuZFN0ciIsImFwcC5zZXJ2aWNlLkRhdGFTdmMiLCJhcHAuc2VydmljZS5EYXRhU3ZjLmNvbnN0cnVjdG9yIiwiYXBwLnNlcnZpY2UuRGF0YVN2Yy5vbk1zZ1JlY2VpdmVkIiwiYXBwLmhvbWUiLCJhcHAuaG9tZS5DaGFydEN0cmwiLCJhcHAuaG9tZS5DaGFydEN0cmwuY29uc3RydWN0b3IiLCJhcHAuaG9tZS5Nb25pdG9yQ3RybCIsImFwcC5ob21lLk1vbml0b3JDdHJsLmNvbnN0cnVjdG9yIiwiYXBwLmludHJvZHVjdGlvbiIsImFwcC5pbnRyb2R1Y3Rpb24uSW50cm9kdWN0aW9uQ3RybCIsImFwcC5pbnRyb2R1Y3Rpb24uSW50cm9kdWN0aW9uQ3RybC5jb25zdHJ1Y3RvciIsImFwcC5zZXR0aW5ncyIsImFwcC5zZXR0aW5ncy5TZXR0aW5nc0N0cmwiLCJhcHAuc2V0dGluZ3MuU2V0dGluZ3NDdHJsLmNvbnN0cnVjdG9yIiwiYXBwLnNldHRpbmdzLlNldHRpbmdzQ3RybC5zdGFydENvbW1hbmQiXSwibWFwcGluZ3MiOiJBQUFBLHlDQUF5QztBQUV6QyxJQUFPLEdBQUcs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LENBQUNBLENBQUNBO1lBd0RuRkEsbUJBQUNBO1FBQURBLENBaEVBRCxBQWdFQ0MsSUFBQUQ7UUFFREEsT0FBT0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FDbkJBLFVBQVVBLENBQUNBLGNBQWNBLEVBQUVBLFlBQVlBLENBQUNBLENBQUNBO0lBQzVDQSxDQUFDQSxFQXJGVWxCLFFBQVFBLEdBQVJBLFlBQVFBLEtBQVJBLFlBQVFBLFFBcUZsQkE7QUFBREEsQ0FBQ0EsRUFyRk0sR0FBRyxLQUFILEdBQUcsUUFxRlQiLCJmaWxlIjoiYXBwLmFsbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9fcmVmZXJlbmNlLnRzXCIgLz5cclxuXHJcbm1vZHVsZSBhcHAuc2VydmljZSB7XHJcblx0ZXhwb3J0IGludGVyZmFjZSBJU29ja2V0U3ZjIHtcclxuXHRcdFN0YXJ0TGlzdGVuaW5nKFxyXG5cdFx0XHRpcEFkZHI6IHN0cmluZyxcclxuXHRcdFx0cG9ydE51bTogbnVtYmVyLFxyXG5cdFx0XHRjYWxsYmFjazogKG1zZzogTWVzc2FnZUV2ZW50KSA9PiB2b2lkLFxyXG5cdFx0XHRlcnJDYWxsYmFjazogKGVycjogc3RyaW5nKSA9PiB2b2lkXHJcblx0XHRcdCk6IHZvaWQ7XHJcblxyXG5cdFx0U3RvcExpc3RlbmluZygpOiB2b2lkO1xyXG5cdFx0U2VuZFN0cihzdHI6IHN0cmluZyk6IHZvaWQ7XHJcblx0fVxyXG5cclxuXHRjbGFzcyBTb2NrZXRTdmMgaW1wbGVtZW50cyBJU29ja2V0U3ZjIHtcclxuXHRcdHByaXZhdGUgX2lzTGlzdGVuaW5nOiBib29sZWFuO1xyXG5cdFx0cHJpdmF0ZSBfc29ja2V0OiBXZWJTb2NrZXQ7XHJcblxyXG5cdFx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHR9XHJcblxyXG5cdFx0U3RhcnRMaXN0ZW5pbmcoaXBBZGRyOiBzdHJpbmcsIHBvcnROdW06IG51bWJlciwgY2FsbGJhY2s6IChtc2c6IE1lc3NhZ2VFdmVudCkgPT4gdm9pZCxcclxuXHRcdFx0ZXJyQ2FsbGJhY2s6IChlcnI6IHN0cmluZykgPT4gdm9pZCk6IHZvaWQge1xyXG5cdFx0XHRjb25zb2xlLmxvZygnQ29ubmVjdGlvbmcgdG86ICcgKyBpcEFkZHIgKyAnOicgKyBwb3J0TnVtKTtcclxuXHRcdFx0dGhpcy5faXNMaXN0ZW5pbmcgPSB0cnVlO1xyXG5cclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHR0aGlzLl9zb2NrZXQgPSBuZXcgV2ViU29ja2V0KFwid3M6Ly9cIiArIGlwQWRkciArICc6JyArIHBvcnROdW0pO1xyXG5cdFx0XHRcdHRoaXMuX3NvY2tldC5vbm1lc3NhZ2UgPSBjYWxsYmFjaztcclxuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XHJcblx0XHRcdFx0ZXJyQ2FsbGJhY2soZXJyKTtcclxuXHRcdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0XHRpZiAodGhpcy5fc29ja2V0LnJlYWR5U3RhdGUgIT0gV2ViU29ja2V0Lk9QRU4gJiYgdGhpcy5fc29ja2V0LnJlYWR5U3RhdGUgIT0gV2ViU29ja2V0LkNPTk5FQ1RJTkcpIHtcclxuXHRcdFx0XHRcdGVyckNhbGxiYWNrKCdBbiBlcnJvciBvY2N1cmVkIHdoaWxlIGNvbm5lY3RpbmcgdG8gc2VydmVyLi4uJyk7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRoaXMuX3NvY2tldC5vbmVycm9yID0gZSA9PiBlcnJDYWxsYmFjaygnRXJyb3IgLS0gJyArIGUudGltZVN0YW1wLnRvU3RyaW5nKCkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0U3RvcExpc3RlbmluZygpOiB2b2lkIHtcclxuXHRcdFx0Y29uc29sZS5sb2coJ0Rpc2Nvbm5lY3RpbmcuLi4nKTtcclxuXHRcdFx0dGhpcy5faXNMaXN0ZW5pbmcgPSBmYWxzZTtcclxuXHJcblx0XHRcdHRoaXMuX3NvY2tldC5jbG9zZSgpO1xyXG5cdFx0XHR0aGlzLl9zb2NrZXQub25tZXNzYWdlID0gbnVsbDtcclxuXHRcdFx0dGhpcy5fc29ja2V0Lm9uZXJyb3IgPSBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdFNlbmRTdHIoc3RyOiBzdHJpbmcpOiB2b2lkIHtcclxuXHRcdFx0dGhpcy5fc29ja2V0LnNlbmQoc3RyKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG5cdFx0LnNlcnZpY2UoJ1NvY2tldFN2YycsIFNvY2tldFN2Yyk7XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vX3JlZmVyZW5jZS50c1wiIC8+XHJcblxyXG5tb2R1bGUgYXBwLnNlcnZpY2Uge1xyXG5cdGV4cG9ydCBpbnRlcmZhY2UgSURhdGFTdmMge1xyXG5cdFx0RGF0YTogYXBwLmludGVyZmFjZXMuSURhdGFNb2RlbFtdW107XHJcblxyXG5cdFx0b25Nc2dSZWNlaXZlZChtc2c6IE1lc3NhZ2VFdmVudCk6IHZvaWQ7XHJcblxyXG5cdFx0b25JbnRyb2R1Y3Rpb25SZWNlaXZlZDogKGludHJvZHVjdGlvbjogc3RyaW5nKSA9PiB2b2lkO1x0XHRcclxuXHRcdG9uRGF0YVJlY2VpdmVkOiAoZGF0YTogYXBwLmludGVyZmFjZXMuSURhdGFNb2RlbFtdKSA9PiB2b2lkO1xyXG5cdFx0b25EaXJlY3RpdmVSZWNlaXZlZDogKGRpcmVjdGl2ZTogc3RyaW5nKSA9PiB2b2lkO1xyXG5cdH1cclxuXHRcclxuXHRjbGFzcyBEYXRhU3ZjIGltcGxlbWVudHMgYXBwLnNlcnZpY2UuSURhdGFTdmMge1xyXG5cdFx0RGF0YTogYXBwLmludGVyZmFjZXMuSURhdGFNb2RlbFtdW107XHJcblxyXG5cdFx0cHJpdmF0ZSBfaGFzSW5pdGVkOiBib29sZWFuO1xyXG5cclxuXHRcdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0fVxyXG5cclxuXHRcdG9uTXNnUmVjZWl2ZWQobXNnOiBNZXNzYWdlRXZlbnQpOiB2b2lkIHtcclxuXHRcdFx0aWYgKCF0aGlzLl9oYXNJbml0ZWQpIHtcclxuXHRcdFx0XHR0aGlzLl9oYXNJbml0ZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdHZhciBwYXlsb2FkID0gPGFwcC5pbnRlcmZhY2VzLklTb2NrZXRDdHJsPkpTT04ucGFyc2UobXNnLmRhdGEpO1xyXG5cdFx0XHRcdGV2YWwocGF5bG9hZC5EYXRhQ3RybCk7XHJcblx0XHRcdFx0dGhpcy5vbkludHJvZHVjdGlvblJlY2VpdmVkKHBheWxvYWQuSW50cm9kdWN0aW9uKTtcclxuXHRcdFx0XHR0aGlzLm9uRGlyZWN0aXZlUmVjZWl2ZWQocGF5bG9hZC5EaXJlY3RpdmUpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHZhciBkYXRhID0gPGFwcC5pbnRlcmZhY2VzLklEYXRhTW9kZWxbXT5KU09OLnBhcnNlKG1zZy5kYXRhKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdHZhciBlID0gZGF0YVtpXTtcclxuXHRcdFx0XHRcdHRoaXMuRGF0YVtpXS5wdXNoKGUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLm9uRGF0YVJlY2VpdmVkKGRhdGEpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0b25JbnRyb2R1Y3Rpb25SZWNlaXZlZDogKGludHJvZHVjdGlvbjogc3RyaW5nKSA9PiB2b2lkID0gKCkgPT4geyB9XHJcblx0XHRvbkRhdGFSZWNlaXZlZDogKGRhdGE6IGFwcC5pbnRlcmZhY2VzLklEYXRhTW9kZWxbXSkgPT4gdm9pZCA9ICgpID0+IHsgfVxyXG5cdFx0b25EaXJlY3RpdmVSZWNlaXZlZDogKGRpcmVjdGl2ZTogc3RyaW5nKSA9PiB2b2lkID0gKCkgPT4geyB9XHJcblx0fVxyXG5cclxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuXHRcdC5zZXJ2aWNlKCdEYXRhU3ZjJywgRGF0YVN2Yyk7XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vX3JlZmVyZW5jZS50c1wiIC8+XHJcblxyXG5tb2R1bGUgYXBwLmludGVyZmFjZXMge1xyXG5cdGV4cG9ydCBpbnRlcmZhY2UgSU1vbml0b3JDdHJsIHtcclxuXHRcdERhdGE6IElEYXRhTW9kZWxbXTtcclxuXHR9XHJcblxyXG5cdGV4cG9ydCBpbnRlcmZhY2UgSVNvY2tldEN0cmwge1xyXG5cdFx0SW50cm9kdWN0aW9uOiBzdHJpbmc7XHJcblx0XHREYXRhQ3RybDogc3RyaW5nO1xyXG5cdFx0RGlyZWN0aXZlOiBzdHJpbmc7XHJcblx0fVxyXG5cclxuXHRleHBvcnQgaW50ZXJmYWNlIElEYXRhTW9kZWwge1xyXG5cdFx0cm93aWQ6IG51bWJlcjtcclxuXHRcdFNlcnZlcklEOiBudW1iZXI7XHJcblx0XHRcclxuXHRcdE5hbWVzOiBzdHJpbmdbXTtcclxuXHRcdFZhbHVlczogbnVtYmVyW107XHJcblx0fVxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvdHNkLmQudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi9zZXJ2aWNlL3NvY2tldFN2Yy50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuL3NlcnZpY2UvZGF0YVN2Yy50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuL2ludGVyZmFjZXMvaW50ZXJmYWNlLnRzXCIgLz4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vX3JlZmVyZW5jZS50c1wiIC8+XHJcblxyXG5tb2R1bGUgYXBwLmhvbWUge1xyXG5cdGludGVyZmFjZSBJQ2hhcnRDdHJsIHtcclxuXHRcdHRpdGxlOiBzdHJpbmc7XHJcblx0fVxyXG5cclxuXHRjbGFzcyBDaGFydEN0cmwgaW1wbGVtZW50cyBJQ2hhcnRDdHJsIHtcclxuXHRcdHRpdGxlOiBzdHJpbmc7XHJcblxyXG5cdFx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHRcdHRoaXMudGl0bGUgPSAnQ2hhcnQnO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignaG9tZS5DaGFydEN0cmwnLCBDaGFydEN0cmwpO1xyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL19yZWZlcmVuY2UudHNcIiAvPlxyXG5cclxubW9kdWxlIGFwcC5ob21lIHtcclxuXHRjbGFzcyBNb25pdG9yQ3RybCBpbXBsZW1lbnRzIGFwcC5pbnRlcmZhY2VzLklNb25pdG9yQ3RybCB7XHJcblx0XHREYXRhOiBhcHAuaW50ZXJmYWNlcy5JRGF0YU1vZGVsW107XHJcblxyXG5cdFx0c3RhdGljICRpbmplY3QgPSBbJ0RhdGFTdmMnXTtcclxuXHRcdGNvbnN0cnVjdG9yKHByaXZhdGUgX2RhdGFTdmM6IGFwcC5zZXJ2aWNlLklEYXRhU3ZjKSB7XHJcblx0XHRcdHRoaXMuRGF0YSA9IFt7XHJcblx0XHRcdFx0cm93aWQ6IDAsXHJcblx0XHRcdFx0U2VydmVySUQ6IDEsXHJcblx0XHRcdFx0TmFtZXM6IFsnYWFhJywgJ2JiYicsICdjY2MnXSxcclxuXHRcdFx0XHRWYWx1ZXM6IFsyLCAzLCA0XVxyXG5cdFx0XHR9XTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ2hvbWUuTW9uaXRvckN0cmwnLCBNb25pdG9yQ3RybCk7XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vX3JlZmVyZW5jZS50c1wiIC8+XHJcblxyXG5tb2R1bGUgYXBwLmludHJvZHVjdGlvbntcclxuXHRpbnRlcmZhY2UgSUludHJvZHVjdGlvbkN0cmwge1xyXG5cdFx0aW50cm9kdWN0aW9uOiBzdHJpbmc7XHJcblx0fVxyXG5cdFxyXG5cdGNsYXNzIEludHJvZHVjdGlvbkN0cmwgaW1wbGVtZW50cyBJSW50cm9kdWN0aW9uQ3RybHtcclxuXHRcdGludHJvZHVjdGlvbjogc3RyaW5nID0gJ1BsZWFzZSBvcGVuIHNldHRpbmdzIHBhbmUgZm9yIGNvbm5lY3RpbmcgdG8gdGhlIHNlcnZlci4nO1xyXG5cdFx0XHJcblx0XHRzdGF0aWMgJGluamVjdCA9IFsnRGF0YVN2YyddO1xyXG5cdFx0Y29uc3RydWN0b3IocHJpdmF0ZSBfZGF0YVN2YzogYXBwLnNlcnZpY2UuSURhdGFTdmMpIHtcclxuXHRcdFx0dGhpcy5fZGF0YVN2Yy5vbkludHJvZHVjdGlvblJlY2VpdmVkID0gaSA9PiB7XHJcblx0XHRcdFx0dGhpcy5pbnRyb2R1Y3Rpb24gPSBpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ0ludHJvZHVjdGlvbkN0cmwnLCBJbnRyb2R1Y3Rpb25DdHJsKTtcclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9fcmVmZXJlbmNlLnRzXCIgLz5cclxuXHJcbm1vZHVsZSBhcHAuc2V0dGluZ3Mge1xyXG5cdGludGVyZmFjZSBJTW9kZWxTY29wZSBleHRlbmRzIGFuZ3VsYXIuSVNjb3BlIHtcclxuXHRcdG1vZGVsOiBJb25pYy5JTW9kYWw7XHJcblxyXG5cdFx0c2hvd01vZGFsKCk6IHZvaWQ7XHJcblx0XHRoaWRlTW9kYWwoKTogdm9pZDtcclxuXHR9XHJcblxyXG5cdGludGVyZmFjZSBJU2V0dGluZ3NDdHJsIHtcclxuXHRcdGlwQWRkcmVzczogc3RyaW5nO1xyXG5cdFx0cG9ydE51bTogbnVtYmVyO1xyXG5cdFx0bXNnczogc3RyaW5nW107XHJcblx0XHRidG5TdHJpbmc6IHN0cmluZztcclxuXHJcblx0XHRzdGFydENvbW1hbmQoKTogdm9pZDtcclxuXHR9XHJcblxyXG5cdGNsYXNzIFNldHRpbmdzQ3RybCBpbXBsZW1lbnRzIElTZXR0aW5nc0N0cmwge1xyXG5cdFx0aXBBZGRyZXNzOiBzdHJpbmc7XHJcblx0XHRwb3J0TnVtOiBudW1iZXI7XHJcblx0XHRtc2dzOiBzdHJpbmdbXSA9IFtdO1xyXG5cdFx0YnRuU3RyaW5nOiBzdHJpbmcgPSAnU3RhcnQnO1xyXG5cclxuXHRcdHByaXZhdGUgX2lzTGlzdGVuaW5nOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG5cdFx0c3RhdGljICRpbmplY3QgPSBbJyRzY29wZScsICdTb2NrZXRTdmMnLCAnJGlvbmljUG9wdXAnLCAnRGF0YVN2YycsICckaW9uaWNNb2RhbCddO1xyXG5cdFx0Y29uc3RydWN0b3IocHJpdmF0ZSBfc2NvcGU6IElNb2RlbFNjb3BlLFxyXG5cdFx0XHRwcml2YXRlIF9zb2NrZXRTdmM6IGFwcC5zZXJ2aWNlLklTb2NrZXRTdmMsXHJcblx0XHRcdHByaXZhdGUgX2lvbmljUG9wdXA6IElvbmljLklQb3B1cCxcclxuXHRcdFx0cHJpdmF0ZSBfZGF0YVN2YzogYXBwLnNlcnZpY2UuSURhdGFTdmMsXHJcblx0XHRcdHByaXZhdGUgX2lvbmljTW9kZWw6IElvbmljLklNb2RhbCkge1xyXG5cdFx0XHRfaW9uaWNNb2RlbC5mcm9tVGVtcGxhdGVVcmwoJy4uLy4uL3NldHRpbmdzL3NldHRpbmdzLmh0bWwnLCB7XHJcblx0XHRcdFx0c2NvcGU6IF9zY29wZSxcclxuXHRcdFx0XHRhbmltYXRpb246ICdzbGlkZS1pbi11cCdcclxuXHRcdFx0fSkudGhlbihtID0+IHtcclxuXHRcdFx0XHRfc2NvcGUubW9kZWwgPSBtO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdF9zY29wZS5zaG93TW9kYWwgPSAoKSA9PiB7XHJcblx0XHRcdFx0X3Njb3BlLm1vZGVsLnNob3coKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0X3Njb3BlLmhpZGVNb2RhbCA9ICgpID0+IHtcclxuXHRcdFx0XHRfc2NvcGUubW9kZWwuaGlkZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0c3RhcnRDb21tYW5kKCk6IHZvaWQge1xyXG5cdFx0XHRpZiAoIXRoaXMuX2lzTGlzdGVuaW5nKSB7XHJcblx0XHRcdFx0dGhpcy5tc2dzID0gW107XHJcblx0XHRcdFx0dGhpcy5tc2dzLnB1c2goJ1N0YXJ0IExpc3RlbmluZy4uLicpO1xyXG5cdFx0XHRcdHRoaXMuX2lzTGlzdGVuaW5nID0gdHJ1ZTtcclxuXHRcdFx0XHR0aGlzLmJ0blN0cmluZyA9ICdTdG9wJztcclxuXHJcblx0XHRcdFx0dGhpcy5fc29ja2V0U3ZjLlN0YXJ0TGlzdGVuaW5nKHRoaXMuaXBBZGRyZXNzLCB0aGlzLnBvcnROdW0sXHJcblx0XHRcdFx0XHQobXNnKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMubXNncy5wdXNoKFwiRGF0YSByZWNlaXZlZCBhdCBcIiArIG1zZy50aW1lU3RhbXApO1xyXG5cdFx0XHRcdFx0XHR0aGlzLl9kYXRhU3ZjLm9uTXNnUmVjZWl2ZWQobXNnKTtcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHQoZXJyKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMubXNncy5wdXNoKGVycik7XHJcblx0XHRcdFx0XHRcdHRoaXMuX2lvbmljUG9wdXAuc2hvdyh7XHJcblx0XHRcdFx0XHRcdFx0dGl0bGU6ICdFcnJvciEnLFxyXG5cdFx0XHRcdFx0XHRcdHRlbXBsYXRlOiAnQW4gZXJyb3Igb2NjdXJlZCB3aGlsZSBjb25uZWN0aW5nIHRvIHNlcnZlci4uLicsXHJcblx0XHRcdFx0XHRcdFx0YnV0dG9uczogW3sgdGV4dDogJ09LJyB9XVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0dGhpcy5faXNMaXN0ZW5pbmcgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0dGhpcy5idG5TdHJpbmcgPSAnU3RhcnQnO1xyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5fc29ja2V0U3ZjLlNlbmRTdHIoJ2EnKTtcclxuXHRcdFx0XHR9LCAzMDAwKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLm1zZ3MucHVzaCgnU3RvcCBMaXN0ZW5pbmcuLi4nKTtcclxuXHRcdFx0XHR0aGlzLl9zb2NrZXRTdmMuU3RvcExpc3RlbmluZygpO1xyXG5cclxuXHRcdFx0XHR0aGlzLl9pc0xpc3RlbmluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdHRoaXMuYnRuU3RyaW5nID0gJ1N0YXJ0JztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0YW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcblx0XHQuY29udHJvbGxlcignU2V0dGluZ3NDdHJsJywgU2V0dGluZ3NDdHJsKTtcclxufSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==